<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" href="css/uniform.default.css" media="screen" />
<!-- Latest compiled and minified JavaScript -->

<link rel="stylesheet" href="css/jquery-ui.css">
<!-- 
<script src="js/jquery-1.10.2.js"></script> 
<script src="js/jquery-ui.js"></script>
 -->

<script src="//code.jquery.com/jquery-1.10.2.js"></script>
<script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
<script src="js/bootstrap.min.js"></script> 
<link rel="stylesheet" href="css/leaflet.css" />
<!-- 
<script src="js/leaflet.js"></script>
 -->
<script src='http://openlayers.org/api/OpenLayers.js'></script>
<script src="js/jquery.uniform.js"></script>

<!-- Bootstrap UI stuff -->
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="css/bootstrap-theme.min.css">

<link rel="stylesheet" href="css/vader/jquery-ui-1.10.4.css">
<script src="js/leaflet.js"></script>

<script src="js/jquery.validate.js"></script>
<link rel="stylesheet" href="css/jquery.timepicker.css">
<link href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">  
<script src='js/spectrum.js'></script>
<link rel='stylesheet' href='css/spectrum.css' />
<script src="js/jquery.timepicker.js"></script>
<script src="js/jquery.validate.js"></script>


<script src="ERIC.js"></script>
<script src="js/jquery.ba-jqmq.js"></script>
<script src="SetupMenu.js"></script>
<script src="KingEric.js"></script>
<script src="BaseEric.js"></script>
<script src="MapEric.js"></script>
<script src="MapEricTrip.js"></script>
<script src="MapEricShape.js"></script>
<script src="MapEricSingleTrip.js"></script>
<script src="MapEricAllTrips.js"></script>          
<script src="Tabular.js"></script>   
<script src="MakeUIObject.js"></script>   
<script src="ProcessDialogs.js"></script>   
<script src="FormHandling.js"></script>          

<style>
.edit-dialog {
    border: 1px solid rgb(74, 159, 63);
    border-bottom: 0px;
    color: #333;
    font: 18px/120% Arial, Helvetica, sans-serif;
    background-color: #FFFFFF //White
 }   
hr { color: #7FA423;
  background-color: #7FA423;
  height: 2px;
  margin: 2px 0;
} 

.col1 {
        height: 600px;
        overflow: auto; }
        
.dialog-wrapper {
   overflow: scroll;
   height: 70%;
   max-height: 500px
}

.table-row {
   whitespace: nowrap;
}

</style>
        
<title>Gee - Open Access GTFS Editor</title>
</head>
<body>


   
<nav class="navbar navbar-default" role="navigation">
  <div class="container">
    <!-- Brand and toggle ge
	<label for="upload_file">Upload GTFS from local file system</label>
    <input id="upload_file" name="upload_file" type=file><br>t grouped for better mobile display -->
    </div>
    <img class="navbar-brand" src="img/cow-icon.png" >
    <a class="navbar-brand" href="#">Gee - Open Access GTFS Editor</a>
    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <div id="menu" name="menu">
      <ul class="nav navbar-nav">
     	 <li class="active">
          <form action="#">
        	<button class="btn btn-default navbar-btn btn-xs" name="getstops" id="getstops">Get Stops From OSM</button>
    	  </form>
        </li>
     	 <li class="active">
          <form action="#">
        	<button class="btn btn-default navbar-btn btn-xs" name="import_gtfs" id="import_gtfs">Import GTFS</button>
    	  </form>
        </li>
     	 <li class="active">
          <form action="#">
        	<button class="btn btn-default navbar-btn btn-xs" name="export_gtfs" id="export_gtfs">Export GTFS</button>
    	  </form>
        </li>
     	 <li class="active">
          <form action="#">
        	<button class="btn btn-default navbar-btn btn-xs" name="zap_gtfs" id="zap_gtfs">Clear GTFS</button>
    	  </form>
        </li>
        </ul>
      </div>
        <ul  class="nav navbar-nav">
     	 <li class="active">
          <form action="/Gee/Help.html">
        	<button class="btn btn-default navbar-btn btn-xs" name="help" id="help">Help</button>
    	  </form>
        </li>
      </ul>
      <ul class="nav navbar-nav">
      	 <li class="active" style="vertical-align: middle;">
      	 <div id="loading">
      	 <img class="navbar-brand" src="img/ajax-loader.gif" >
      	 </div>
     	 </li>
      </ul>

      <ul class="nav navbar-nav navbar-right">
      	 <li class="active" style="vertical-align: middle;">
      	 
      	 <div id="logged_out">
      	  <form action="https://github.com/login/oauth/authorize" method="GET" >
    	<input name="scope" type=hidden value="user:email">
    	<input name="client_id" type=hidden value="d20b14968463e2b9634c">
        	<button type="submit" class="btn btn-default navbar-btn btn-xs">Login with GitHub</button>
    	  </form>
      	 </div>
      	 
      	 <div id="logged_in">
      	 <div id="logged_in_text"></div>
      	  <form action="/Gee/Security?sign_out=1" method="GET">
        	<button type="submit" class="btn btn-default navbar-btn btn-xs">Logout</button>
    	  </form>  	
      	 </div>
     	 </li>
      </ul>
      
  </div>
 </nav>  

<div id="welcome" name="welcome">
<center>

   <img src="img/cow-icon.png" >
 
</center>
</div>
<div id="interface" name="interface">

<div class="row">
<div class="col-md-3">
<div class="col1"> 

<div id="Instance" class="Eric_Place_Holder">
</div>

<div id="Stops" class="Eric_Place_Holder">
</div>

<div id="Transfers" class="Eric_Place_Holder">
</div>

<div id="Calendar" class="Eric_Place_Holder">
</div>
<div id="CalendarDates" class="Eric_Place_Holder" >
</div>
<div id="Agency" class="Eric_Place_Holder" >
</div>
<div id="Routes" class="Eric_Place_Holder" >
</div>
<div id="Trips" class="Eric_Place_Holder">
</div>
<div id="StopTimes" class="Eric_Place_Holder">
</div>
<div id="Frequencies" class="Eric_Place_Holder">
</div>

<div id="Shapes" class="Eric_Place_Holder">
</div>
<hr>
<div id="FareAttributes" class="Eric_Place_Holder">
</div>
<div id="FareRules" class="Eric_Place_Holder">
</div>

</div> <!--  end of scroll -->
</div> <!--  end of first col -->
<div class="col-md-9">
<div id="map" style="width: 100%; height: 600px"></div>

</div> <!-- end 9 col -->
</div> <!--  end row  -->
</div> <!--  end interface -->

<div id=Eric_Declarations>

<!--  Eric DECLARATION: Instance -->

<div id="Instance" class="Eric" no_join method="User">

<div id="select">
<label>Databases</label>
</div>

<div id="edit" title="Add/Edit Database" class="edit-dialog">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<label for="databaseName">Database Name</label>
    <input id="databaseName" name="databaseName" size=20 maxlength=20 nospace required key><br>
	<label for="description">Description </label>
    <input id="description" name="description" size=30 maxlength=100 required display><br>
	<label for="publicRead">Public Read</label>
    <input id="publicRead" name="publicRead" type=checkbox><br>
	<label for="publicWrite">Public Write</label>
    <input id="publicWrite" name="publicWrite" type=checkbox><br>
</fieldset>
 </form>
 </div>

<div id="delete" title="Delete Database">
<form id="delete">
     Are you sure you want to delete Database <input readonly name="display" size=20 maxlength=20><br>
     You will lose all data if you do.
</form>
</div>	

<div id="table-row" class=table-row>
    <input id="databaseName" name="databaseName" size=20 maxlength=20 nospace required key readonly>
    <input id="description" name="description" size=30 maxlength=100 required display>
	<label for="publicRead">R</label>
    <input id="publicRead" name="publicRead" type=checkbox>
	<label for="publicWrite">W</label>
    <input id="publicWrite" name="publicWrite" type=checkbox>
</div>

</div>

<!--  Eric DECLARATION: Stops -->

<div id="Stops" class="Eric" parent="Instance">
<div id="select">
<label>Stops</label>
</div>

<div id="edit" title="Add/Edit Stop" class="edit-dialog">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<label for="stopId">Stop ID (required)</label>
    <input id="stopId" name="stopId" size=20 maxlength=20 required key><br>
	<label for="stopCode">Code (required)</label>
    <input id="stopCode" name="stopCode" size=30 maxlength=30 required><br>
	<label for="stopName">Name (required)</label>
    <input id="stopName" name="stopName" size=30 maxlength=30 required display><br>
	<label for="stopDesc">Description</label>
    <input id="stopDesc" name="stopDesc" size=30 maxlength=30><br>
	<label for="stopUrl">URL</label>
    <input id="stopUrl" name="stopUrl" size=30 maxlength=100><br>
	<label for="stopLat">Latitude (required)</label>
    <input id="stopLat" name="stopLat" size=30 maxlength=100 required><br>
	<label for="stopLon">Longitude (required)</label>
    <input id="stopLon" name="stopLon" size=30 maxlength=100 required><br>
</fieldset>
 </form>
</div>

<div id="delete" title="Delete Stops">
<form id="delete">
     Are you sure you want to delete  Stop <input readonly name="display" size=20 maxlength=20><br>
     You will lose any Stop times from any trips that use then if you do.
</form>
</div>
<div id="table-row" class=table-row>
    <input id="stopId" name="stopId" size=10 maxlength=20 required key>
    <input id="stopName" name="stopName" size=20 maxlength=50 required display>
    <input id="stopLat" name="stopLat" size=10 maxlength=20 required>
    <input id="stopLon" name="stopLon" size=10 maxlength=20 required>
</div>

</div>

<!--  Eric DECLARATION: Transfers -->

<div id="Transfers" class="Eric" parent="Stops">
<div id="select">
<label>Transfer Times</label>
</div>

<div id="edit" title="Add/Edit Transfer Time" class="edit-dialog">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Stops" type=hidden>
	<input id="parentKey" value="fromStopId" type=hidden>
	
	<label for="fromStopId">From Stop ID (required)</label>
    <input id="fromStopId" name="fromStopId" size=20 maxlength=20 required key display><br>
	<label for="toStopId">To Stop ID (required)</label>
    <input id="toStopId" name="toStopId" size=20 maxlength=20 required display><br>
   	<label for="transferType">Exception Type</label>
    <input id="transferType" name="transferType" size=2 maxlength=2><br>
   	<label for="minTransferTime">Min Trafser Time</label>
    <input id="minTransferTime" name="minTransferTime" size=4 maxlength=4><br>
</fieldset>
 </form>
</div>

<div id="delete" title="Delete Transfer Time">
<form id="delete">
     Are you sure you want to delete Transfer time for <input readonly name="display" size=20 maxlength=20><br>
     You will lose any Stop times from any trips that use then if you do.
</form>
</div>

<div id="table-row" class=table-row>
    <input id="fromStopId" name="fromStopId" size=10 maxlength=20 required key display>
    <input id="toStopId" name="toStopId" size=10 maxlength=20 required display>
    <input id="transferType" name="transferType" size=2 maxlength=2>
    <input id="minTransferTime" name="minTransferTime" size=4 maxlength=4>
</div>


</div>

<!--  Eric DECLARATION: Calendar -->

<div id="Calendar" class="Eric" parent="Instance" >
<div id="select">
<label>Calendar</label>
</div>

<div id="edit" title="Add/Edit Calendar" class="edit-dialog">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden><br>
	<label for="servceId">ID</label>
    <input id="serviceId"  name="serviceId" size=20 maxlength=20 key display><br>
	<label for="monDay">Monday</label>
    <input id="monDay"  name="monDay" type=checkbox><br>
	<label for="tuesDay">Tuesday</label>
    <input id="tuesDay" name="tuesDay" type=checkbox><br>
	<label for="wednesdDay">Wednesday</label>
    <input id="wednesDay" name="wednesDay" type=checkbox><br>
	<label for="thursDay">Thursday</label>
    <input id="thursDay" type=checkbox><br>
	<label for="friDay">Friday</label>
    <input id="friDay" type=checkbox><br>
	<label for="saturDay">Saturday</label>
    <input id="saturDay" name="saturDay" type=checkbox><br>
	<label for="sunDay">Sunday</label>
    <input id="sunDay" type=checkbox><br>
	<label for="startDate">Start</label>
    <input id="startDate" name="startDate" type=text picker="date" required lessthan="endDate"><br>
	<label for="endDate">End</label>
    <input id="endDate" name="endDate" type=text picker="date" required greaterthan="startDate"><br>
</fieldset>
 </form>
</div>

<div id="delete" title="Delete Calendar">
<form id="delete">
     Are you sure you want to delete Calendar ID,  <input readonly name="calendarId" size=10 maxlength=10><br>
</form>
</div>


<div id="table-header" class=table-row>
Service ID, |Start, Finish, M T W T F S S 
</div>
<div id="table-row" class=table-row>
    <input id="serviceId"  name="serviceId" size=10 maxlength=20 key display>
    <input id="startDate" name="startDate" type=text size=10 picker="date" required lessthan="endDate">
    <input id="endDate" name="endDate" type=text size=10 picker="date" required greaterthan="startDate">
    <input id="monDay"  name="monDay" type=checkbox>
    <input id="tuesDay" name="tuesDay" type=checkbox>
    <input id="wednesDay" name="wednesDay" type=checkbox>
    <input id="thursDay" type=checkbox>
    <input id="friDay" type=checkbox>
    <input id="saturDay" name="saturDay" type=checkbox>
    <input id="sunDay" type=checkbox>
</div>
</div>
<!--  Eric DECLARATION: CalendarDates -->

<div id="CalendarDates" class="Eric" parent="Instance" >
<div id=select">
<label>Calendar Dates</label>
</div>

<div id="edit" title="Add/Edit Calendar Date" class="edit-dialog">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden><br>
	<input id="parentTable" value="Calendar" type=hidden>
	<input id="parentKey" value="serviceId" type=hidden>
	<label for="serviceId">Calendar ID</label>
    <input id="serviceId" size=20 maxlength=20 required><br>
	<label for="date">Date</label>
    <input id="date" name="date"  type=text picker="date" required key display><br>
	<label for="exceptionType">Exception Type</label>
    <input id="exceptionType" size=2 maxlength=2><br>
</fieldset>
 </form>
</div>

<div id="delete" title="Delete Calendar Date">
<form id="delete">
     Are you sure you want to delete Calendar Date,  <input readonly name="date" size=10 maxlength=10><br>
</form>
</div>

<div id="table-row" class=table-row>
    <input id="date" name="date"  type=text size=10 picker="date" required key display><br>
    <input id="exceptionType" size=2 maxlength=2><br>
</div>
</div>


<!--  Eric DECLARATION: Agency -->

<div id="Agency" class="Eric" parent="Instance" >
<div id="select">
<label>Agencies</label>
</div>

<div id="edit" title="Add/Edit Agency">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden><br>

	<label for="agencyId">Agency ID</label>
    <input id="agencyId" name="agencyId" size=10 maxlength=10 type="text" required key><br>
	
	<label for="agencyName">Name</label>
    <input id="agencyName" name="agencyName" size=30 maxlength=30  type="text" required display><br>
	
	<label for="agencyUrl">URL</label>
    <input id="agencyUrl" name="agencyUrl" size=30 maxlength=100><br>
	
	<label for="agencyTimezone">Timezone</label>
    <input id="agencyTimezone" name="agencyTimezone" size=20 maxlength=20><br>
	
	<label for="agencyLang">Language</label>
    <input id="agencyLang" name="agencyLang" size=10 maxlength=10 ><br>
	
	<label for="agencyPhone">Phone</label>
    <input id="agencyPhone" name="agencyPhone" size=20 maxlength=20r>
</fieldset>

 </form>
</div>

<div id="dialog-delete-Agency" title="Delete Agency">
<form id="dialog-delete-Agency-form">
     Are you sure you want to delete Agency ID,  <input readonly name="agencyId" size=10 maxlength=10><br>
you will lose all the routes, trips and stoptimes if you do
</form>
</div>

<div id="table-row" class=table-row>
    <input id="agencyId" name="agencyId" size=10 maxlength=10 type="text" required key>
    <input id="agencyName" name="agencyName" size=20 maxlength=50  type="text" required display>
    <input id="agencyUrl" name="agencyUrl" size=20 maxlength=100>
</div>

</div>

<!--  Eric DECLARATION: Routes -->

<div id="Routes" class="Eric" parent="Agency" >
<div id="select">
<label>Routes</label>
</div>
 
<div id="edit" title="Add/Edit Route">
<form id="edit">
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Agency" type=hidden>
	<input id="parentKey" value="agencyId" type=hidden>
<fieldset>
	
	<label for="agencyId">Agency</label>
    <input id="agencyId" size=10 maxlength=10 required><br>
	<label for="routeId">Route ID</label>
    <input id="routeId" name="routeId" size=30 maxlength=30 required key display><br>
	<label for="routeShortName">Short Name</label>
    <input id="routeShortName" name="routeShortName" size=30 maxlength=100 required><br>
	<label for="routeLongName">Long Name</label>
    <input id="routeLongName" name="routeLongName" size=60 maxlength=60 required><br>
	<label for="routeDesc">Description</label>
    <input id="routeDesc" name="routeDesc" size=60 maxlength=60 ><br>
	<label for="routeType">Type</label>
	<select id="routeType" name="routeType" >
	  <option value="0">Tram</option>
	  <option value="1">Tube</option>
	  <option value="2">Train</option>
	  <option value="3">Bus</option>
	  <option value="4">Boat</option>
	  <option value="5">SF Style Tram</option>
	  <option value="6">Cable Car</option>
	  <option value="7">Funicular</option>
	</select> <br>
	
	<label for="routeColor">Colour</label>
    <input id="routeColor"name="routeColor" picker="colour" size=10 type="colour" name="routeColor"><br>
	<label for="routeTextColor">Text Colour</label>
    <input id="routeTextColor" name="routeTextColor" picker="colour" size=10 type="colour" name="routetextColour"><br>
 </fieldset>
  </form>
</div>

<div id="delete" title="Delete Route">
<form id="delete">
     Are you sure you want to delete Route ID <input readonly name="routeId" size=10 maxlength=10><br>
	you will lose all the trips, and their stop times, if you do.
</form>
</div>

<div id="table-row" class=table-row>
    <input id="routeId" name="routeId" size=10 maxlength=30 required key display>
    <input id="routeShortName" name="routeShortName" size=10 maxlength=100 required>
    <input id="routeLongName" name="routeLongName" size=20 maxlength=60 required>
	<select id="routeType" name="routeType" >
	  <option value="0">Tram</option>
	  <option value="1">Tube</option>
	  <option value="2">Train</option>
	  <option value="3">Bus</option>
	  <option value="4">Boat</option>
	  <option value="5">SF Style Tram</option>
	  <option value="6">Cable Car</option>
	  <option value="7">Funicular</option>
	</select>
    <input id="routeColor"name="routeColor" picker="colour" size=10 type="colour" name="routeColor">
    <input id="routeTextColor" name="routeTextColor" picker="colour" size=10 type="colour" name="routetextColour">
</div>
</div>


<!--  Eric DECLARATION: Trips -->

<div id="Trips" class="Eric" parent="Routes">
<div id="select">
<label>Trips</label>
</div>
 
<div id="edit" title="Add/Edit Trips">
<form id="edit">
  <fieldset>
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Routes" type=hidden>
	<input id="parentKey" value="routeId" type=hidden>
	<label for="routeId">Route</label>
	<select id="routeId" name="routeId" table="Routes" display></select> <br> 
 <!--  <input id="routeId" size=30 maxlength=30 required><br>  -->  
    <label for="tripId">Trip ID</label>
    <input id="tripId" name="tripId" size=20 maxlength=20 required key display><br>
	<label for="serviceId">Service ID</label>
    <select id="serviceId" name="serviceId" table="Calendar"></select> <br>
	<label for="tripHeadsign">Head sign</label>
    <input id="tripHeadsign" size=30 maxlength=100 required><br>
	<label for="tripShortName">Short Name</label>
    <input id="tripShortName" name="tripShortName" size=60 maxlength=60 ><br>
	<label for="shapeId">Shape ID</label>
    <input id="shapeId" name="shapeId" size=60 maxlength=60 ><br>
  </fieldset>
   </form>
 </div>

<div id="delete" title="Delete Trip">
<form id="delete">
     Are you sure you want to delete Trip ID <input readonly name="tripId" size=10 maxlength=10><br>
	you will lose all the stop times if you do.
</form>
</div>

<div id="replicate" title="Replicate Trip">
<form id="replicate">
<input readonly type="hidden" name="entity">
     Replicate Trip ID <input readonly id="sourceTripId" size=10 maxlength=10 value="test"><br>
     New Trip Id <input id="targetTripId" size=10 maxlength=10><br>
     Shift time in munutes <input id="shiftMinutes" size=10 maxlength=10 value=60><br>
     or new start time <input id="newStartTime" name="newStartTime"  type=text picker=time  display ><br>
     Invert ? <input id="invertTrip" name="invertTrip" type=checkbox>
</form>
</div>


<div id="table-row">
    <input id="tripId" name="tripId" size=10 maxlength=20 required key display>
    <select id="serviceId" name="serviceId" table="Calendar"></select> 
    <input id="tripHeadsign" size=30 maxlength=100 required>
    <input id="tripShortName" name="tripShortName" size=60 maxlength=60 >
</div>

</div>

<!--  Eric DECLARATION: Frequencies -->

<div id="Frequencies" class="Eric" parent="Trips">
<div id="select">
<label>Frequencies</label>
</div>

<div id="edit" title="Add/Edit Frequencies">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Trips" type=hidden>
	<input id="parentKey" value="tripId" type=hidden>
  	<label for="tripId">Trip ID </label>
    <input id="tripId" size=10 maxlength=10 required><br>
 	<label for="tripId">Start</label>
 	<input id="startTime" name="startTime" type=text picker=time required lessthan="endTime" key display><br>
 	<label for="endTime">End Time</label>
    <input id="endTime" name="endTime" type=text picker=time required greaterthan="startTime" ><br>
 	<label for="headwaySecs">Headway Seconds</label>
    <input id="headwaySecs" name="headwaySecs" size=30 maxlength=100 required><br>
</fieldset>
  </form>
</div>

<div id="delete" title="Delete Frequencies">
<form id="delete">
     Are you sure you want to delete Frequencies <input readonly name="startTime" size=10 maxlength=10><br>
	you will lose all the stop times if you do.
</form>
</div>

<div id="table-row">
 	<input id="startTime" name="startTime" type=text size=10 picker=time required lessthan="endTime" key display><br>
    <input id="endTime" name="endTime" type=text size=10 picker=time required greaterthan="startTime" ><br>
    <input id="headwaySecs" name="headwaySecs" size=3 maxlength=100 required><br>
</div>

</div>

<!--  Eric DECLARATION: StopTimes -->

<div id="StopTimes" class="Eric" parent="Trips">
<div id="select">
<label>Stop Times</label>
</div>
 
<div id="edit" title="Add/Edit Stop Time">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Trips" type=hidden>
	<input id="parentKey" value="tripId" type=hidden>
	<input id="secondParentTable" value="Stops" type=hidden>
	<input id="secondParentKey" value="stopId" type=hidden>
	<input id="shapeDistTraveled" value="0" type=hidden>
	
  	<label for="tripId">Trip ID</label>
    <input id="tripId" name="tripId" size=10 maxlength=10 required><br>
  	<label for="stopId">Stop ID </label>
  
   <select id="stopId" name="stopId" table="Stops" display></select> <br> 
  <!--  
      <input id="stopId" name="stopId" size=20 maxlength=20 required key display><br>
  --> 
  	<label for="arrivalTime">Arrival Time</label>
    <input id="arrivalTime" name="arrivalTime"  type=text picker=time required display lessthan="departureTime"><br>
  	<label for="departureTime">Departure Time</label>
    <input id="departureTime" name="departureTime" type=text picker=time required greaterthan="arrivalTime"><br>
  	<label for="stopSequence">Stop Sequence</label>
    <input id="stopSequence" name="stopSequence" size=3 maxlength=3 order key><br>
  	<label for="stopHeadsign">Headsign</label>
    <input id="stopHeadsign" name="stopHeadsign" size=30 maxlength=100><br>
</fieldset>
  </form>
</div>

<div id="delete" title="Delete Stop Time">
<form id="delete">
     Are you sure you want to delete Stop Time 
      <input readonly name="stopId" size=20 maxlength=20><br>
	
</form>
</div>

<div id="table-row">
    <input id="stopName" name="stopName" size=20 maxlength=20 readonly table=Stops>
    <input id="arrivalTime" name="arrivalTime" size=8 type=text picker=time required display lessthan="departureTime">
    <input id="departureTime" name="departureTime" size=8 type=text picker=time required greaterthan="arrivalTime">   
</div>

</div>

<!--  Eric DECLARATION: Shapes -->

<div id="Shapes" class="Eric" parent="Trips">
<div id="select">
<label>Shape Points</label>
</div>

<div id="edit" title="Add/Edit Shape Point">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
	<input id="parentTable" value="Trips" type=hidden>
	<input id="parentKey" value="tripId" type=hidden>
	
  	<label for="shapeId">Shape ID</label>
    <input id="shapeId" name="shapeId" size=10 maxlength=10 required joinkey><br>
  	<label for="shapePtLat">Lat </label>
    <input id="shapePtLat" name="shapePtLat" size=10 maxlength=10 required display><br>
  	<label for="shapePtLon">Lat </label>
    <input id="shapePtLon" name="shapePtLon" size=10 maxlength=10 required display><br>
  	<label for="shapePtSequence">Sequence </label>
    <input id="shapePtSequence" name="shapePtSequence" size=10 maxlength=10 required order readonly key><br>
  	<label for="shapeDistTravelled">Distance </label>
    <input id="shapeDistTravelled" name="shapeDistTravelled" size=10 maxlength=10 required  display><br>
</fieldset>
  </form>
</div>

<div id="delete" title="Delete Shape Point">
<form id="delete">
     Are you sure you want to delete Shape Point 
      <input readonly name="shapeId" size=10 maxlength=10><br>
      <input readonly name="shapePtSequence" size=10 maxlength=10><br>
</form>
</div>

<div id="table-row">
    <input id="shapeId" name="shapeId" size=10 maxlength=10 required joinkey readonly><br>
    <input id="shapePtLat" name="shapePtLat" size=10 maxlength=10 required display><br>
    <input id="shapePtLon" name="shapePtLon" size=10 maxlength=10 required display><br>
    <input id="shapePtSequence" name="shapePtSequence" size=3 maxlength=10 required order readonly key><br>
    <input id="shapeDistTravelled" name="shapeDistTravelled" size=4 maxlength=10 required  display><br>
</div>

</div>

<!--  Eric DECLARATION: FareAttributes -->

<div id="FareAttributes" class="Eric" parent="Instance">
<div id="select">
<label>Fare Attributes</label>
</div>

<div id="edit" title="Add/Edit Fare Attribute">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
  	<label for="fareId">Fare ID</label>
    <input id="fareId" name="fareId" size=10 maxlength=10 display><br>
  	<label for="pricE">Price</label>
    <input id="pricE" name="pricE" size=10 maxlength=10><br>
  	<label for="currencyType">Currency</label>
    <input id="currencyType" name="currencyType" size=10 maxlength=10><br>
    
 </fieldset>
  </form>
</div>

<div id="delete" title="Delete Fare Attribute">
<form id="delete">
     Are you sure you want to delete Fare Attribute 
      <input readonly name="fareId" size=10 maxlength=10><br>
	
</form>
</div>

<div id="table-row">
    <input id="fareId" name="fareId" size=10 maxlength=10 display>
  	<label for="pricE">Price</label>
    <input id="pricE" name="pricE" size=10 maxlength=10>
  	<label for="currencyType">Currency</label>
    <input id="currencyType" name="currencyType" size=10 maxlength=10>
</div>

</div>

<!--  Eric DECLARATION: FareRules -->

<div id="FareRules" class="Eric" parent="Instance">
<div id="select">
<label>Fare Rules</label>
</div>

<div id="edit" title="Add/Edit Fare Rules">
<form id="edit">
<fieldset>
	<input id="hibernateId" type=hidden>
  	<label for="fareId">Fare ID</label>
    <input id="fareId" name="fareId" size=10 maxlength=10 display ><br>
  	<label for="routeId">Route ID</label>
    <input id="routeId" name="routeId" size=10 maxlength=10><br>
  	<label for="originId">Origin ID</label>
    <input id="originId" name="originId" size=10 maxlength=10><br>
  	<label for="destinationId">Destination ID</label>
    <input id="destinationId" name="destinationId" size=10 maxlength=10><br>
  	<label for="containsId">Contains ID</label>
    <input id="containsId" name="containsId" size=10 maxlength=10><br>
    
 </fieldset>
  </form>
 </div>

<div id="delete" title="Delete Fare Rules">
<form id="delete">
     Are you sure you want to delete Fare Rule 
      <input readonly name="fareId" size=10 maxlength=10><br>
      <input readonly name="routeId" size=10 maxlength=10><br>
      <input readonly name="originId" size=10 maxlength=10><br>
      <input readonly name="destinationId" size=10 maxlength=10><br>
      <input readonly name="containsId" size=10 maxlength=10><br>	
</form>
</div>

<div id="table-header">
Route, Origin, Destination, Contains
</div>
<div id="table-row">
    <input id="routeId" name="routeId" size=10 maxlength=10><br>
    <input id="originId" name="originId" size=10 maxlength=10><br>
    <input id="destinationId" name="destinationId" size=10 maxlength=10><br>
    <input id="containsId" name="containsId" size=10 maxlength=10><br>
</div>
</div>

<div id="Map_Stops" class="Eric" parent="Stops" type="MapEric" title="All Stops">
</div>
 
<div id="Map_Trips" class="Eric" parent="StopTimes" type="MapEricTrip" title="Trip Editor">
</div>

<div id="Map_Shapes" class="Eric" parent="Shapes" type="MapEricShape" title="Shape Editor">
</div>
 
<div id="Map_All_Trips" class="Eric" parent="Instance" type="MapEricAllTrips" title="Route Map">
</div>
 

</div> <!-- END OF ERIC DECLARATIONS -->


<div id="dialogs"> 

<div id="dialog-getstops" title="Get Stops From OSM" class="edit-dialog">
<form id="dialog-getstops-form">
<fieldset>
	<label for="stop_type">Type</label>
    <input id="stop_type" name="stop_type" size=10 maxlength=10 required><br>
</fieldset>
 </form>
</div>

<div id="dialog-import_gtfs" title="Import GTFS" class="edit-dialog">
<form id="dialog-import_gtfs-form">
<fieldset>
	<label for="upload_file">Upload GTFS from local file system</label>
    <input id="upload_file" name="upload_file" type=file><br>
	<label for="create_db">Create me a DB if I dont have one (say yes unless you know what you are doing)</label>
    <input id="create_db" name="create_db" type=checkbox checked><br>
    
</fieldset>

<div id="dialog-import_gtfs-loading">
<center>
<h3> Loading....</h3>
<img src="img/ajax-loader.gif">
</center>
</div>

<div id="dialog-import_gtfs-done">
<h3>Loading Complete, here's what the database said</h3>
<div id="dialog-import_gtfs-done-text">
</div>
</div>

 </form>
</div>
 
<div id="dialog-zap_gtfs" title="Clear GTFS" class="edit-dialog">
<form id="dialog-zap_gtfs-form">
  You Damn Sure You Wanna Do This Buddy ?
 </form>
 </div>


 <div id="template-select">
 <form id="template-select-form">
 <label id="template-select-label"></label>
 <select id="template-select-list"></select>
 <span style="white-space:nowrap;">
 <button type="button" class="btn btn-primary btn-xs" id="template-opener-add"><span class="glyphicon glyphicon-plus-sign"></span></button>
 <button type="button" class="btn btn-success btn-xs" id="template-opener-edit"><span class="glyphicon glyphicon-edit"></span></button>
 <button type="button" class="btn btn-danger btn-xs" id="template-opener-delete"><span class="glyphicon glyphicon-remove-circle"></span></button>
 <button type="button" class="btn btn-info btn-xs" id="template-opener-tabulate"><span class="glyphicon glyphicon-th-large"></span></button>
 <button type="button" class="btn btn-warning btn-xs" id="template-opener-replicate"><span class="glyphicon glyphicon-repeat"></span></button> 
 </span>
 </form>
 <hr>
 </div>
 
 <div id="tabular-template">
 <form>
 <div id="parent">
 
 </div>
 <hr>
 <div class="dialog-wrapper">
 <div id="table">
 </div>
 </div>
 </form>
 </div>
 <div id="tabular-row-delete-button">
 <button type="button" class="btn btn-danger btn-xs" id="tabular-opener-delete"><span class="glyphicon glyphicon-remove-circle"></span></button>
 </div>
 
 <div id="mapbutton_container">
 </div>

 <div id="mapbutton_rowcontent">
 <label></label>    <input id="checkbox" name="toggle_layer" type=checkbox checked><br>
 </div>
 
 </div> <!--  end dialogs -->

</body>

<script>
$("#logged_in").hide();

$( document ).ready(function() {
	$("#welcome").show();
	$("#Eric_Declarations").hide();
	$("#loading").hide();
	$("#interface").hide();
	$("#dialogs").hide();
	
	SetUp();	
});

</script>

</html>
